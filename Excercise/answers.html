<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>d3.js excercise problems</title>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.16.0/d3.min.js"
        integrity="sha512-FHsFVKQ/T1KWJDGSbrUhTJyS1ph3eRrxI228ND0EGaEp6v4a/vGwPWd3Dtd/+9cI7ccofZvl/wulICEurHN1pg=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script> -->
    <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
    <link href="style.css" rel="stylesheet">
    <!-- If you'd like to try other versions of d3.js, please refer to its docs or
    https://cdnjs.com/libraries/d3     -->
</head>

<body>
    <!-- Please make sure there are two seperate SVG elements
    on this HTML page. One for each problem. 
    -->
    <script>
        // Your answers to each problem go in here
        // Q.1 Manipulating the DOM

        d3.select('body').append('h1').text("Problem.1").attr("class", "question")

        /*
        Using d3.js, add a button element to the index.html's body element. 
        The button text should be add a circle
        */

        const button = d3.select('body').append('button').text("add a circle").attr("class", "btn btn-add");

        // Add a div element to the DOM's body using d3.js. Assign an id value of container to this <div> element

        d3.select('body').append('div').attr("id", "container");

        /* 
        Add a svg element as a child of container div that you created above (svgWidth, svgHeight= 600px). Assign an id value of
        Problem-1 to this svg element.
        */

        const svg_1 = d3.select("#container").append("svg").attr("width", 600).attr("height", 600).attr("id", "problem-1");

        /*
        Write a function that adds a circle element <circle> to the SVG element. The function has no input but returns the newly created
        circle.

        To use d3 randomInt function, your d3 version needs to be 6 r above. 
        That is why I am using d3 version 7 in this solution instead of v.5.
        */

        const center_generator = d3.randomInt(100, 500);

        const radius_generator = d3.randomInt(10, 60);

        function add_circle() {
            let [cx, cy] = [center_generator(), center_generator()];
            let radius = radius_generator();
            let color = d3.interpolateHclLong("purple", "orange")(d3.randomNormal(0, 1)());
            console.log(cx, cy, radius, color);

            return svg_1.append("circle")
                .attr("cx", cx)
                .attr("cy", cy)
                .attr("r", radius)
                .attr("fill", `${color}`);

        }
        button.on('click', (e) => {
            add_circle();
        })
    </script>
</body>

</html>